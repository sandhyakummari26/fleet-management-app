<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <aside>
        <input id="VehicleNo" type="" placeholder="Enter your Reg no of Vehicle"><br><br>
        <select id="category">
            <option value="select">Select</option>
            <option value="Auto">Auto</option>
            <option value="Truck">Truck</option>
            <option value="car">Car</option>
            <option value="bus">Bus</option>
        </select><br><br>
        <input id="Name" type="text" placeholder="Enter Driver name"><br><br>
        <div id="radio">
            <input type="radio">
            <label>Available</label><br><br>
            <input type="radio">
            <label>Unavailable</label><br><br>
        </div>
        <button onclick="addFleet()">Add Fleet</button>
        <nav id="nav">
            <select onclick="filterVehicle" id="categoryFilter">
                <option>All</option>
                <option>Auto</option>
                <option>Car</option>
                <option>Truck</option>
                <option>Bus</option>
            </select>
            <select id="Availability">
                <option>All</option>
                <option>Available</option>
                <option>Unavailable</option>
            </select>
            <button>Clear Filter</button>
        </nav>
        <hr>
        <main>
            <div id="cardContainer"></div>
        </main>
    </aside>
    <script>

        let VehicleCard=[]

        const img="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png"
        
        function addFleet(){
            let VehicleNo=document.getElementById("VehicleNo").value.trim();
            let driver=document.getElementById("Name").value.trim();
            let vehicle=document.getElementById("category").value.trim();
            let Available=document.getElementById("radio").value.trim();
            if(!VehicleNo || !driver || !vehicle || !Available ){
                alert("Please fill all details")
            }
            let card={
                VehicleNo,
                driver,
                vehicle,
                Available,
                imgUrl:img
            };

            VehicleCard.push(card);
            renderCard(VehicleCard)

            document.getElementById("Name").value=""
            document.getElementById("category").value=""
            document.getElementById("radio").value=""
            document.getElementById("VehicleNo").value=""
        }

        function renderCard(VehicleList){
            let list=document.getElementById("cardContainer");
            list.innerHTML=""

            VehicleList.forEach(card => {
                let SingleCard=document.createElement("div")
                SingleCard.className=SingleCard

                //image
                let image=document.createElement("img");
                image.src=card.imgUrl;

                //vehicle
                let VehicleNo=document.createElement("h3")
                VehicleNo.src=card.VehicleNo

                let vehicle=document.createElement("h3")
                vehicle.src=card.vehicle

                let driver=document.createElement("h3")
                driver.src=card.driver

                let Available=document.createElement("h3")
                Available.src=card.Available

                deleteteBtn.addEventListener("click",function(){
                    deleteCard(index)
                })

                SingleCard.appenChild(image);
                SingleCard.appenChild(VehicleNo);
                 SingleCard.appenChild(vehicle);
                SingleCard.appenChild(driver);
                SingleCard.appendChild(Available)

                list.appendChild(SingleCard)
            });
        }
        function deleteCard(index){
            VehicleCard.splice(index,1)
            renderCard(VehicleCard)
        }

        function filterVehicle(){
            let category=document.getElementById("categoryFilter").value;

            if(category==="All"){
                renderCard(VehicleCard);
                return;
            }

            let filtered=VehicleCard.filter(list=>list.category===category)
            renderCard(VehicleCard)
        }
        
    </script>
</body>
</html>